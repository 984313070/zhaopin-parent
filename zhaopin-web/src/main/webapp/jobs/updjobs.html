<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>修改职位</title>
    <script src="../upload/Application/Admin/View/default/public/js/jquery-1.9.1.min.js"></script>
    <script src="../upload/Application/Admin/View/default/public/bootstrap3/js/bootstrap.js"></script>
    <link rel="stylesheet" href="../upload/Application/Admin/View/default/public/bootstrap3/css/bootstrap.css">
    <script src="../upload/Application/Admin/View/default/public/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <link rel="stylesheet"href="../upload/Application/Admin/View/default/public/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css">
    <script src="../upload/Application/Admin/View/default/public/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="../upload/Application/Admin/View/default/public/bootstrap-bootbox/bootbox.all.min.js"></script>
    <script src="../upload/Application/Admin/View/default/public/js/vue/vue.min.js"></script>
    <script src="../upload/Application/Admin/View/default/public/js/jquery.params.js"></script>

</head>
<body>
<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">修改职位</h3>
    </div>
    <div class="panel-body">
  <form id="updForm"  class="form-horizontal" >
    <input  type="text" style="display:none"  id="id"  name="id">
    <div class="form-group">
        <label class="col-sm-2 control-label">发布期限：</label>
        <div class="col-sm-4">
            2019-09-10 14:48&nbsp;&nbsp;-&nbsp;&nbsp;2019-12-08 19:36
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">刷新日期：</label>
        <div class="col-sm-4">
            2019-09-10 15:51:13
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 职位名称:</label>
        <div class="col-sm-4">
            <input type="text"class="form-control" style="width:200px;"autocomplete="off"   style="width:200px;"autocomplete="off"   id="jobsName"  name="jobsName">
        </div>
    </div>
    <div class="form-group">

        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 招聘状态:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
                <input type="radio"  i id="display"  name="display" >在招
            </label>
            <label class="radio-inline">
                <input type="radio"    id="display1"  name="display" > 关闭
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 审核状态:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
                <input type="radio"  id="audit"  name="audit" value="1"> 审核通过
            </label>
            <label class="radio-inline">
                <input type="radio"    id="audit2" name="audit" value="2">审核中
            </label>
            <label class="radio-inline">
                <input type="radio"    id="audit3"  name="audit" value="3">审核未通过
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 职位性质:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
            <input type="radio"  id="nature" name="nature" value="1">全职
            </label>
            <label class="radio-inline">
            <input type="radio"   id="nature1" name="nature" value="2">兼职
            </label>
            <label class="radio-inline">
            <input type="radio"   id="nature2" name="nature" value="3">实习
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 薪资待遇:</label>
        <div class="col-sm-8">
            <input type="text"   class="form-control" style="width:200px;"autocomplete="off"   id="minwage"  name="minwage">元/月 -
            <input type="text"  class="form-control" style="width:200px;"autocomplete="off"    id="maxwage"  name="maxwage">元/月
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">所属部门:</label>
        <div class="col-sm-8">
            <input type="text"   class="form-control" style="width:200px;"autocomplete="off"    id="department" name="department">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 学历要求:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
                <input type="radio"   id="education"  name="education" value="0">不限
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education1"   name="education" value="65">初中
            </label>
            <label class="radio-inline">
                <input type="radio"    id="education2"  name="education" value="66">高中
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education3"   name="education" value="67">中技
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education4"   name="education" value="68">中专
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education5"   name="education" value="69">大专
            </label>
            <label class="radio-inline">
                <input type="radio"    id="education6"  name="education" value="70">本科
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education7"  name="education" value="71">硕士
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education8"  name="education" value="72">博士
            </label>
            <label class="radio-inline">
                <input type="radio"   id="education9"  name="education" value="73">博士后
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 工作经验:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
                <input type="radio"    id="experience" name="experience" value="0">不限
            </label>
            <label class="radio-inline">
                <input type="radio"   id="experience1"  name="experience" value="74">无经验
            </label>
            <label class="radio-inline">
                <input type="radio"    id="experience2" name="experience" value="75">1年以下
            </label>
            <label class="radio-inline">
                <input type="radio"    id="experience3" name="experience" value="76">1-3年
            </label>
            <label class="radio-inline">
                <input type="radio"   id="experience4"  name="experience" value="77">3-5年
            </label>
            <label class="radio-inline">
                <input type="radio"    id="experience5" name="experience" value="78">5-10年
            </label>
            <label class="radio-inline">
                <input type="radio"    id="experience6" name="experience" value="79">10年以上
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 性别要求:</label>
        <div class="col-sm-8">
            <label class="radio-inline">
                <input type="radio"   id="sex1" name="sex" value="0">不限
            </label>
            <label class="radio-inline">
                <input type="radio"    id="sex2"   name="sex" value="1">男
            </label>
            <label class="radio-inline">
                <input type="radio"    id="sex4" name="sex" value="2">女
            </label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"> 年龄要求:</label>
        <div class="col-sm-8">
            <input type="text"  class="form-control" style="width:200px;"autocomplete="off"    id="age"  name="age">岁
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"> 招聘人数:</label>
        <div class="col-sm-8">
            <input type="text"  class="form-control" style="width:200px;"autocomplete="off"     id="amount" name="amount">人
        </div>
    </div>
      <div class="form-group">
          <label  class="col-sm-2 control-label">职位描述:</label>
          <div class="col-sm-8">
          <textarea class="form-control" rows="3"id="contents" name="contents"></textarea>
          <div style="color: #999999; padding-top: 10px;">说明：请详细描述该职位，内容可包括：职位要求，岗位职责等。</div>
          </div>
      </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"> <span style="color:#FF3300; font-weight:bold">*</span> 联 系 人:</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" style="width:200px;"autocomplete="off"     id="contact" name="contact">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"><span style="color:#FF3300; font-weight:bold">*</span> 联系电话:</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" style="width:200px;"autocomplete="off"    id="telephone"  name="telephone">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"> <span style="color:#FF3300; font-weight:bold">*</span> 联系邮箱:</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" style="width:200px;"autocomplete="off"     id="email"  name="email">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"> <span style="color:#FF3300; font-weight:bold">*</span> 联系地址:</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" style="width:200px;"autocomplete="off"    id="address"  name="address">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-4 control-label"> </label>
        <input type="button" onclick="update()" class="btn btn-primary"value="确 定"/>
        <input type="button" onclick="jobs()" class="btn btn-primary" value="返 回"/>
    </div>

</form>
    </div>
</div>
</body>
<script>
    //var id = $.query.get("id")
    var loc = location.href;
    var n1 = loc.length;//地址的总长度
    var n2 = loc.indexOf("=");//取得=号的位置
    var id = decodeURI(loc.substr(n2+1, n1-n2));//从=号后面的内容*/
    alert(id)
    $.ajax({
        url: '../jobs/findById.do?id='+id,
        type: 'post',
        dataType: 'json',
        success: function (data) {
            $('#id').val(data.id);
            $('#jobsName').val(data.jobsName);
            $('input:radio[name="display"]:checked').val(data.display);
            $('input:radio[name="audit"]:checked').val(data.audit);
            $('input:radio[name="nature"]:checked').val(data.nature);
            $('input:radio[name="audit"]:checked').val(data.audit);
            $('#minwage').val(data.minwage);
            $('#maxwage').val(data.maxwage);
            $('#department').val(data.department);
            $('input:radio[name="education"]:checked').val(data.education);
            $('input:radio[name="experience"]:checked').val(data.experience);
            $('input:radio[name="sex"]:checked').val(data.sex);
            $('#age').val(data.age);
            $('#amount').val(data.amount);
            $('#contents').val(data.contents);
            $('#contact').val(data.contact);
            $('#telephone').val(data.telephone);
            $('#email').val(data.email);
            $('#address').val(data.address);
        }
    })
    function update() {
        $.ajax({
            url:'../jobs/updJobs.do',
            type:'post',
            data:$("#updForm").serialize(),
            dataType:'json',
            success:function(data){
                if(data){
                    alert(data.message)
                    location.href="./jobs.html";
                }else{
                    alert(data.message)
                }
            }
        })
    }


    function jonbs(){
    location.href="./jobs.html";
}
</script>
</html>